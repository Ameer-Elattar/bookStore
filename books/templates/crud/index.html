{% extends 'layouts/base.html' %}
{% load static %}
{% block title %} books Home {% endblock %}

{% block content %}
    <h1> books </h1>
    <a class="btn btn-info" href="{% url 'bookCreate'%}"> Add</a>
    <a class="btn btn-info" href="{% url 'forms.create'%}"> Add by forms</a>
    <a class="btn btn-info" href="{% url 'forms.create.model'%}"> Add by forms</a>
<table class="table">
        <tr>
            <td> ID</td> <td> title </td> <td> author </td> <td> no_of_page</td> <td> price</td>
            <td> image</td>
            <td> Show</td>
            <td> Delete</td>
            <td> Edit</td>
            <td> Edit</td>
        </tr>
        {% for book in books %}
            <tr>
                <td>{{book.id }}</td>
                <td> {{book.title}}</td>
                <td> {{book.author}}</td>
                <td>{{book.no_of_page}}</td>
                <td>{{book.price}}</td>
                <td> <img width="200" height="200 "
                    src = "{{book.imageURL}}"
                > </td>
                
                <td >
                    <a class="btn btn-info" href="{{book.showURL}}"> Show</a>
                </td> 
                
                <td >
                    <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#book{{book.id}}">
                        delete
                    </button>
                </td> 
                <td >
                    <a class="btn btn-info" href="update/{{book.id}}"> Edit</a>
                </td>  
                <td >
                    <a class="btn btn-info" href="forms/{{book.id}}"> edit by form</a>
                </td>  

            </tr>


            <!-- Modal -->
        <div class="modal fade" id="book{{book.id}}">
            <div class="modal-dialog">
                <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5  ">Do you want to delete this book?</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <a class="btn btn-danger" href="{{book.deleteURL}}"> delete</a>
                </div>
                </div>
            </div>
            </div>
        {% endfor %}


        </table>
    
{% endblock %}